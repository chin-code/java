# Java 核心技术 - 卷1

# 第一章 Java 程序设计概述

<hr />
## 1.1 Java 程序设计平台

Java 是一个完整的平台，有一个庞大的库，其中包含了很多可重用的代码，以及一个提供诸如安全性，跨操作系统的可移植性以及自动垃圾收集等服务的执行环境。

## 1.2 Java “白皮书” 的关键术语

Java 的设计者已经编写了颇有影响力的 “白皮书”，用来解释设计的初衷以及完成的情况，并且发布了一个简短的摘要。这个摘要要用下面 11 个关键术语进行组织：

1. 简单性
2. 面向对象
3. 分布式
4. 健壮性
5. 安全性
6. 体系结构中立
7. 可移植性
8. 解释型
9. 高性能
10. 多线程
11. 动态性

**简单性**

Java 的语法是 C++ 语法的一个 *纯净* 版本。这里没有头文件，指针运算，结构，联合，操作符重载，虚基类等。

**面向对象**

面向对象是一种程序设计技术。Java 的面向对象特性与 C++ 旗鼓相当。

**分布式**

Java 有一个丰富的例程库，用于处理像 HTTP 和 FTP 之类的 TCP/IP 协议。Java 应用程序能够通过 URL 打开和访问网络上的对象，其便捷程度就好像访问本地文件一样。

**健壮性**

Java 编译器能够检测许多其他语言仅在运行时能够检测出来的问题。

**安全性**

Java 要适用于网络/分布式环境。为了实现这个目标，安全性颇受重视。使用 Java 可以构建防病毒，防篡改的系统。

**体系结构中立**

编译器生成一个体系结构中立的目标文件格式，这是一种编译过的代码。

**可移植性**

与 C 和 C++ 不同，Java 规范中没有 **依赖具体实现** 的地方。

**解释型**

Java 解释器可以在任何移植了解释器的机器上直接执行 Java 字节码。

**高性能**

现在的 Java 虚拟机使用了即时编译器，因此采用 Java 编写的 **热点** 代码运行速度与 C++ 相差无几，有些情况下甚至更快。

**多线程**

多线程可以带来更快的交互响应和实时行为。

如今，我们非常关注并发性，因为摩尔定律即将走到尽头。我们不再追求更快的处理器，而是着眼于获得更多的处理器，而且要让他们一直保持工作。

**动态性**

从很多方面来看，Java 于 C 或 C++ 相比更加具有动态性。它能够适应不断发展的环境。

## 1.3 Java applet 与 Internet

在网页中运行的 Java 程序称为 **applet**。

## 1.4 Java 发展简史

1996 年年初，Sun 发布了 Java 的第一个版本。

2009 年 Sun 公司被 Oracle 收购。Java 的开发停滞了很长一段时间。直到 2011 年 Oracle 发布了 Java 7。

2014 年，Java 8 发布。

2017 年，Java 9 发布。

## 1.5 关于 Java 的常见误解

1. Java 是一种非常容易学习的程序设计语言。

像 Java 这种功能强大的语言都不太容易学习。首先，必须将编写玩具式程序的轻松与开发实际项目的艰难区分开来。

2. Java 是解释型的，因此对于关键的应用程序速度太慢了。

早期的 Java 是解释型的。现在 Java 虚拟机使用了即时编译器，因此采用 Java 编写的 “热点” 代码运行速度与 C++ 相差无几，有些情况下甚至更快。

# 第二章 Java 程序设计环境

<hr />
## 2.1 安装 Java 开发工具包

**Java 术语**

| 术语名                                      | 缩写 | 解释                                                         |
| ------------------------------------------- | ---- | ------------------------------------------------------------ |
| Java Development Kit（Java 开发工具包）     | JDK  | 编写 Java 程序的程序员使用的软件                             |
| Java Runtime Environment（Java 运行时环境） | JRE  | 运行 Java 程序的用户使用的软件                               |
| Server JRE（服务器 JRE）                    | ——   | 在服务器上运行 Java 程序的软件                               |
| Standard Edition（标准版）                  | SE   | 用于桌面或简单服务器应用的 Java 平台                         |
| Enterprise Edition（企业版）                | EE   | 用于复杂服务器应用的 Java 平台                               |
| Micro Edition（微型版）                     | ME   | 用于小型设备的 Java 平台                                     |
| Java FX                                     | ——   | 用于图形化用户界面的一个备选工具包，在 Java 11 之前的某些 Java SE 发布版本中提供 |
| OpenJDK                                     | ——   | Java SE 的一个免费开源实现                                   |
| Java 2                                      | J2   | 一个过时的术语，用于描述 1998~2006 年之间的 Java 版本        |
| Software Development Kit                    | SDK  | 一个过时的术语，用于描述 1998~2006 年之间的 JDK              |
| Update                                      | u    | Oracle 公司的术语，表示 Java 8 之前的 bug 修正版本           |
| NetBeans                                    | ——   | Oracle 公司的集成开发环境                                    |

[下载地址](http://www.oracle.com/technetwork/java/javase/downloads)

## 2.2 使用命令行工具

**从命令行编译并运行 Java 程序**

```
1. 打开一个终端窗口。
2. 创建 java 文件，编写 java 程序。
3. 键入下面命令
	javac welcome.java //编译源文件，生成 welcome.class 文件
	java welcome //执行 class 文件，看到程序运行结果
```

## 2.3 使用集成开发环境

对于大多数日常工作来说，还是应当使用集成开发环境。这些环境非常强大，非常方便。

我们可以免费得到一些很棒的开发环境，如 Eclipse，IntellJ IDEA 和 NetBeans。

## 2.4 JShell

Java 9 引入了另一种使用 Java 的方法。

# 第三章 Java 的基本程序设计结构

<hr />
## 3.1 一个简单的 Java 应用程序

每个 Java 应用程序都必须有一个 main 方法，其声明格式如下所示：

```java
public function ClassName()
{
    public static void main(String[] args)
    {
        program statements
    }
}
```

Java 区分大小写。

关键字 public 称为 **访问修饰符**，这些修饰符用于控制程序的其它部分对这段代码的访问级别。

源代码的文件名必须与公共类的名字相同，并用 `.java` 作为扩展名。

## 3.2 注释

```
单行注释：//
多行注释： /**/
```

## 3.3 数据类型

Java 是一种强类型语言。这意味着必须为每一个变量声明一种类型。

在 Java 中，一共有 8 种基本类型，其中有 4 种整形（int，short，long，byte），2 种浮点型，1 种字符型 char 和 boolean 类型。

所有的浮点数值计算都遵循 IEEE 754 规范。具体来说，下面是用于表示溢出和出错情况的三个特殊的浮点数值：

- 正无穷大
- 负无穷大
- NaN（不是一个数字）

**警告：** 浮点数值不适用于无法接受舍入误差的金融计算。

> 我们强烈建议不要在程序中使用 char 类型。

## 3.4 变量与常量

**常量** 就是值不变的量。

在 Java 中，每一个变量都有一个类型。在声明变量时，先指定变量的类型，然后是变量名。

声明一个变量后，必须使用赋值语句对变量进行显式初始化，千万不要使用未初始化的变量的值。

在 Java 中，变量的声明尽可能地靠近变量第一次使用的地方，这是一种良好的程序编写风格。

在 Java 中，利用关键字 final 指示常量。表示这个变量只能被赋值一次。一旦被赋值之后，就不可再更改了。习惯上，常量名使用全大写。

## 3.5 运算符

Java 提供了一组丰富的算术和逻辑运算符以及数学函数。

## 3.6 字符串

## 3.7 输入与输出

## 3.8 控制流程

与任何程序设计语言一样，Java 使用条件语句和循环结构确定控制流程。

![1652169392685](img\1.png)

## 3.9 大数

如果基本的整数和浮点数精度不能够满足要求，那么可以使用 java.math 包中两个很有用的类：BigInteger 和 BigDecimal。这两个类可以处理包含任意长度数字序列的数值。BigInteger 类可以实现任意精度的整数运算，BigDecimal 实现任意精度的浮点数运算。

## 3.10 数组

数组是一种数据结构，用来存储同一类型值的集合。通过一个整型下标可以访问数组中的每一个值。

```java
int[] a; //仅仅声明了变量 a,并没有将 a 初始化为一个真正的数组。
int[] a = new int[100]; //声明并初始化一个可以存储 100 个整数的数组
int[] a = {2,3,5,7}; //简写形式
```

# 第四章 对象与类

<hr />
由于 Java 是面向对象的，所以你必须熟悉 OOP 才能够很好的使用 Java。

**类** 是构造对象的模板或蓝图。

由类构造对象的过程称为创建类的实例。

对象中的数据称为 **实例字段**，操作数据的过程称为 **方法**。

作为一个类的实例，特定对象都有一组特定的实例字段值。这些值的集合就是这个对象的 **当前状态**。

实现 **封装** 的关键在于，绝对不能让类中的方法直接访问其他类的实例字段。程序只能通过对象的方法与对象数据进行交互。封装给对象赋予了 **黑盒** 特征，这是提高重用性和可靠性的关键。

通过扩展一个类来建立另外一个类的过程称为 **继承**。

要想使用 OOP，一定要清楚对象的三个主要特性：

- 对象的 **行为**：可以对对象完成哪些操作，或者可以对对象应用哪些方法？
- 对象的 **状态**：当调用哪些方法时，对象会如何响应？
- 对象的 **标识**：如何区分具有相同行为与状态的不同对象？

在类之间，最常见的关系有：

- 依赖（"uses-a"）
- 聚合（"has-a"）
- 继承（"is-a"）

如果一个类的方法使用或操纵另一个类的对象，我们就说一个类 **依赖于** 另一个类。应该尽可能地将相互依赖的类减至最少。这里的关键是，如果类 A不知道类 B 的存在，他就不会关心 B 的任何改变（这意味着 B 的改变不会导致 A 产生任何 Bug）。用软件工程的术语来说，就是尽可能减少类之间的 **耦合**。

聚合，即 **has-a** 关系，类 A 的对象包含类 B 的对象。

所以的 Java 对象都存储在堆中。